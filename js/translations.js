const translations = {
    "es": {
        "nav_inicio": "Inicio",
        "nav_planes": "Planes",
        "nav_contacto": "Contacto",
        "nav_login": "Acceso Lab",
        "hero_title": "Defensa en Profundidad",
        "hero_text": "Un usuario informado es la barrera más eficaz. Protegemos tu infraestructura con estrategias proactivas y auditorías avanzadas.",
        "hero_btn": "Ver Soluciones",
        "feat_nmap_title": "Auditoría Nmap",
        "feat_nmap_text": "Identificamos tu superficie de ataque visible antes de que lo hagan los ciberdelincuentes.",
        "feat_armor_title": "AppArmor Hardening",
        "feat_armor_text": "Contención de daños mediante perfiles de seguridad obligatorios. Tu servidor, blindado.",
        "feat_ssh_title": "Autenticación SSH",
        "feat_ssh_text": "Implementación de llaves criptográficas para eliminar el riesgo de las contraseñas débiles.",
        "page_planes_title": "Nuestros Planes",
        "page_planes_subtitle": "Escalabilidad desde la auditoría básica hasta la contención total.",
        "plan_personal_title": "Plan Personal",
        "plan_personal_price": "Gratis",
        "plan_personal_desc": "Ideal para diagnósticos iniciales.",
        "feat_audit": "Auditoría de Puertos Nmap",
        "feat_report": "Informe de Exposición",
        "feat_no_armor": "Sin Hardening AppArmor",
        "feat_support": "Soporte Básico",
        "btn_request": "Solicitar",
        "badge_rec": "RECOMENDADO",
        "plan_business_title": "Plan Empresarial",
        "plan_business_price": "Consultar",
        "plan_business_desc": "Defensa en profundidad completa.",
        "feat_armor_custom": "Perfiles AppArmor Custom",
        "feat_bastion": "Bastionado SSH & SQL",
        "feat_fw": "Configuración Firewall UFW",
        "feat_sim": "Simulación de Ataques",
        "btn_hire": "Contratar Escudo",
        "contact_title": "Hablemos de Seguridad",
        "contact_desc": "Estamos ubicados en el IES Pablo Serrano, Zaragoza. Contáctanos para auditorías o formación.",
        "role_red": "Red Team / Auditoría Ofensiva",
        "role_blue": "Blue Team / Hardening",
        "role_infra": "Infraestructura / Cyber Range",
        "lbl_name": "Nombre",
        "ph_name": "Tu nombre",
        "lbl_email": "Email",
        "lbl_msg": "Mensaje",
        "ph_msg": "¿Cómo podemos ayudarte?",
        "btn_send": "Enviar Mensaje",
        "login_title": "Iniciar Sesión",
        "lbl_user": "Usuario",
        "lbl_pass": "Contraseña",
        "btn_enter": "Entrar al Panel",
        "gw_title": "Confirmar Suscripción",
        "lbl_cardholder": "Titular de la Tarjeta",
        "lbl_cardnumber": "Número de Tarjeta",
        "lbl_expire": "Expira",
        "lbl_cvc": "CVC",
        "btn_pay": "Pagar y Activar",
        "secure_msg": "Transacción cifrada de extremo a extremo.",
        "reg_title": "Crear Cuenta",
        "btn_register": "Registrarse",
        "text_has_account": "¿Ya tienes cuenta?",
        "link_login_action": "Inicia Sesión",
        "ph_email_example": "usuario@ejemplo.com",
        "panel_client_title": "Área de Cliente",
        "btn_logout": "Cerrar Sesión",
        "panel_responses_title": "Respuestas del Equipo",
        "panel_no_msg": "No tienes nuevas respuestas.",
        "table_date": "Fecha",
        "table_subject": "Asunto",
        "table_response": "Respuesta",
        "dash_title": "Panel de Control",
        "dash_msgs_title": "Mensajes Recibidos",
        "dash_no_msg": "No hay mensajes nuevos en el sistema.",
        "table_user": "Usuario",
        "table_msg": "Mensaje",
        "welcome_user": "Bienvenido,",
        "hello_user": "Hola,",
        "text_new_lab": "¿Nuevo en el Lab?",
        "btn_create_account": "Crear Cuenta",
        "footer_text": "© 2026 SecurityShield - Proyecto PIM - Defensa de Servidor Web",
        "footer_source": "Código Fuente",
        "title_login": "Acceso - SecurityShield",
        "title_register": "Crear Cuenta - SecurityShield",
        "title_dashboard": "Dashboard - SecurityShield",
        "title_client": "Área Cliente - SecurityShield",
        "welcome_page_title": "SecurityShield - Cyber Defense",
        "welcome_line1": "Bastionado de sistemas y hardening avanzado en Linux",
        "welcome_line2": "Defensa en profundidad mediante perfiles AppArmor y Blue Team",
        "welcome_line3": "Auditoría de seguridad ofensiva para blindar infraestructuras",
        "welcome_btn": "Empezar"
    },
    "en": {
        "nav_inicio": "Home", "nav_planes": "Pricing", "nav_contacto": "Contact", "nav_login": "Lab Access",
        "hero_title": "Defense in Depth", "hero_text": "An informed user is the most effective barrier. We protect your infrastructure with proactive strategies and advanced audits.", "hero_btn": "See Solutions",
        "feat_nmap_title": "Nmap Audit", "feat_nmap_text": "We identify your visible attack surface before cybercriminals do.",
        "feat_armor_title": "AppArmor Hardening", "feat_armor_text": "Damage containment through mandatory security profiles. Your server, armored.",
        "feat_ssh_title": "SSH Authentication", "feat_ssh_text": "Implementation of cryptographic keys to eliminate the risk of weak passwords.",
        "page_planes_title": "Our Plans", "page_planes_subtitle": "Scalability from basic audit to total containment.",
        "plan_personal_title": "Personal Plan", "plan_personal_price": "Free", "plan_personal_desc": "Ideal for initial diagnostics.",
        "feat_audit": "Nmap Port Audit", "feat_report": "Exposure Report", "feat_no_armor": "No AppArmor Hardening", "feat_support": "Basic Support", "btn_request": "Request",
        "badge_rec": "RECOMMENDED", "plan_business_title": "Business Plan", "plan_business_price": "Contact Us", "plan_business_desc": "Complete defense in depth.",
        "feat_armor_custom": "Custom AppArmor Profiles", "feat_bastion": "SSH & SQL Hardening", "feat_fw": "UFW Firewall Configuration", "feat_sim": "Attack Simulation", "btn_hire": "Hire Shield",
        "contact_title": "Let's Talk Security", "contact_desc": "Located at IES Pablo Serrano, Zaragoza. Contact us for audits or training.",
        "role_red": "Red Team / Offensive Audit", "role_blue": "Blue Team / Hardening", "role_infra": "Infrastructure / Cyber Range",
        "lbl_name": "Name", "ph_name": "Your name", "lbl_email": "Email", "lbl_msg": "Message", "ph_msg": "How can we help you?", "btn_send": "Send Message",
        "login_title": "Login", "lbl_user": "User", "lbl_pass": "Password", "btn_enter": "Enter Panel",
        "gw_title": "Confirm Subscription", "lbl_cardholder": "Card Holder", "lbl_cardnumber": "Card Number", "lbl_expire": "Expires", "lbl_cvc": "CVC", "btn_pay": "Pay & Activate", "secure_msg": "End-to-end encrypted transaction.",
        "reg_title": "Create Account", "btn_register": "Sign Up",
        "text_has_account": "Already have an account?", "link_login_action": "Log In", "ph_email_example": "user@example.com",
        "panel_client_title": "Client Area", "btn_logout": "Logout",
        "panel_responses_title": "Team Responses", "panel_no_msg": "You have no new responses.",
        "table_date": "Date", "table_subject": "Subject", "table_response": "Response",
        "dash_title": "Control Panel", "dash_msgs_title": "Received Messages", "dash_no_msg": "No new messages in the system.",
        "table_user": "User", "table_msg": "Message",
        "welcome_user": "Welcome,", "hello_user": "Hello,",
        "text_new_lab": "New to the Lab?", "btn_create_account": "Create Account",
        "footer_text": "© 2026 SecurityShield - PIM Project - Web Server Defense",
        "footer_source": "Source Code",
        "title_login": "Login - SecurityShield",
        "title_register": "Create Account - SecurityShield",
        "title_dashboard": "Dashboard - SecurityShield",
        "title_client": "Client Area - SecurityShield",
        "welcome_page_title": "SecurityShield - Cyber Defense",
        "welcome_line1": "System hardening and advanced Linux hardening",
        "welcome_line2": "Defense in depth via AppArmor profiles and Blue Team",
        "welcome_line3": "Offensive security audit to shield infrastructures",
        "welcome_btn": "Start"
    },
    "ca": {
        "nav_inicio": "Inici", "nav_planes": "Plans", "nav_contacto": "Contacte", "nav_login": "Accés Lab",
        "hero_title": "Defensa en Profunditat", "hero_text": "Un usuari informat és la barrera més eficaç. Protegim la teva infraestructura amb estratègies proactives i auditories avançades.", "hero_btn": "Veure Solucions",
        "feat_nmap_title": "Auditoria Nmap", "feat_nmap_text": "Identifiquem la teva superfície d'atac visible abans que ho facin els ciberdelinqüents.",
        "feat_armor_title": "AppArmor Hardening", "feat_armor_text": "Contenció de danys mitjançant perfils de seguretat obligatoris. El teu servidor, blindat.",
        "feat_ssh_title": "Autenticació SSH", "feat_ssh_text": "Implementació de claus criptogràfiques per eliminar el risc de les contrasenyes febles.",
        "page_planes_title": "Els Nostres Plans", "page_planes_subtitle": "Escalabilitat des de l'auditoria bàsica fins a la contenció total.",
        "plan_personal_title": "Pla Personal", "plan_personal_price": "Gratuït", "plan_personal_desc": "Ideal per a diagnòstics inicials.",
        "feat_audit": "Auditoria de Ports Nmap", "feat_report": "Informe d'Exposició", "feat_no_armor": "Sense Hardening AppArmor", "feat_support": "Suport Bàsic", "btn_request": "Sol·licitar",
        "badge_rec": "RECOMANAT", "plan_business_title": "Pla Empresarial", "plan_business_price": "Consultar", "plan_business_desc": "Defensa en profunditat completa.",
        "feat_armor_custom": "Perfils AppArmor Custom", "feat_bastion": "Bastionat SSH & SQL", "feat_fw": "Configuració Firewall UFW", "feat_sim": "Simulació d'Atacs", "btn_hire": "Contractar Escut",
        "contact_title": "Parlem de Seguretat", "contact_desc": "Estem ubicats a l'IES Pablo Serrano, Saragossa. Contacta'ns per a auditories o formació.",
        "role_red": "Red Team / Auditoria Ofensiva", "role_blue": "Blue Team / Hardening", "role_infra": "Infraestructura / Cyber Range",
        "lbl_name": "Nom", "ph_name": "El teu nom", "lbl_email": "Email", "lbl_msg": "Missatge", "ph_msg": "Com et podem ajudar?", "btn_send": "Enviar Missatge",
        "login_title": "Iniciar Sessió", "lbl_user": "Usuari", "lbl_pass": "Contrasenya", "btn_enter": "Entrar al Panell",
        "gw_title": "Confirmar Subscripció", "lbl_cardholder": "Titular de la Targeta", "lbl_cardnumber": "Número de Targeta", "lbl_expire": "Expira", "lbl_cvc": "CVC", "btn_pay": "Pagar i Activar", "secure_msg": "Transacció xifrada d'extrem a extrem.",
        "reg_title": "Crear Compte", "btn_register": "Registrar-se",
        "text_has_account": "Ja tens compte?", "link_login_action": "Inicia Sessió", "ph_email_example": "usuari@exemple.com",
        "panel_client_title": "Àrea de Client", "btn_logout": "Tancar Sessió", "panel_responses_title": "Respostes de l'Equip", "panel_no_msg": "No tens noves respostes.",
        "table_date": "Data", "table_subject": "Assumpte", "table_response": "Resposta",
        "dash_title": "Panell de Control", "dash_msgs_title": "Missatges Rebuts", "dash_no_msg": "No hi ha missatges nous al sistema.",
        "table_user": "Usuari", "table_msg": "Missatge",
        "welcome_user": "Benvingut,", "hello_user": "Hola,",
        "text_new_lab": "Nou al Lab?", "btn_create_account": "Crear Compte",
        "footer_text": "© 2026 SecurityShield - Projecte PIM - Defensa de Servidor Web",
        "footer_source": "Codi Font",
        "title_login": "Accés - SecurityShield",
        "title_register": "Registre - SecurityShield",
        "title_dashboard": "Tauler - SecurityShield",
        "title_client": "Àrea Client - SecurityShield",
        "welcome_page_title": "SecurityShield - Cyber Defense",
        "welcome_line1": "Bastionat de sistemes i hardening avançat a Linux",
        "welcome_line2": "Defensa en profunditat mitjançant perfils AppArmor i Blue Team",
        "welcome_line3": "Auditoria de seguretat ofensiva per blindar infraestructures",
        "welcome_btn": "Començar"
    },
    "eu": {
        "nav_inicio": "Hasiera", "nav_planes": "Planak", "nav_contacto": "Kontaktua", "nav_login": "Laborategi Sarbidea",
        "hero_title": "Defentsa Sakona", "hero_text": "Erabiltzaile informatua da oztoporik eraginkorrena. Zure azpiegitura babesten dugu estrategia proaktiboekin eta auditoretza aurreratuekin.", "hero_btn": "Ikusi Konponbideak",
        "feat_nmap_title": "Nmap Auditoretza", "feat_nmap_text": "Zure eraso-azalera ikusgarria identifikatzen dugu ziberdelitugileek egin aurretik.",
        "feat_armor_title": "AppArmor Hardening", "feat_armor_text": "Kalteen euste-lana segurtasun-profil derrigorrezkoen bidez. Zure zerbitzaria, blindatuta.",
        "feat_ssh_title": "SSH Autentifikazioa", "feat_ssh_text": "Gako kriptografikoen inplementazioa pasahitz ahulen arriskua ezabatzeko.",
        "page_planes_title": "Gure Planak", "page_planes_subtitle": "Eskalagarritasuna oinarrizko auditoretzatik erabateko eusteraino.",
        "plan_personal_title": "Plan Pertsonala", "plan_personal_price": "Doan", "plan_personal_desc": "Hasierako diagnostikoetarako aproposa.",
        "feat_audit": "Nmap Portuen Auditoretza", "feat_report": "Esposizio Txostena", "feat_no_armor": "AppArmor Hardening gabe", "feat_support": "Oinarrizko Laguntza", "btn_request": "Eskatu",
        "badge_rec": "GOMENDATUA", "plan_business_title": "Enpresa Plana", "plan_business_price": "Kontsultatu", "plan_business_desc": "Defentsa sakon osoa.",
        "feat_armor_custom": "AppArmor Profil Pertsonalizatuak", "feat_bastion": "SSH eta SQL Bastionatzea", "feat_fw": "UFW Firewall Konfigurazioa", "feat_sim": "Eraso Simulazioa", "btn_hire": "Eskudoa Kontratatu",
        "contact_title": "Hitz egin dezagun segurtasunaz", "contact_desc": "IES Pablo Serranon gaude, Zaragozan. Jarri gurekin harremanetan auditoretza edo formakuntzarako.",
        "role_red": "Red Team / Auditoretza Ofentsiboa", "role_blue": "Blue Team / Hardening", "role_infra": "Azpiegitura / Cyber Range",
        "lbl_name": "Izena", "ph_name": "Zure izena", "lbl_email": "Posta", "lbl_msg": "Mezua", "ph_msg": "Nola lagun zaitzakegu?", "btn_send": "Mezua Bidali",
        "login_title": "Saioa Hasi", "lbl_user": "Erabiltzailea", "lbl_pass": "Pasahitza", "btn_enter": "Panelean Sartu",
        "gw_title": "Harpidetza Berretsi", "lbl_cardholder": "Txartelaren Jabea", "lbl_cardnumber": "Txartel Zenbakia", "lbl_expire": "Iraungitze", "lbl_cvc": "CVC", "btn_pay": "Ordaindu eta Aktibatu", "secure_msg": "Muturretik muturrera zifratutako transakzioa.",
        "reg_title": "Sortu Kontua", "btn_register": "Erregistratu",
        "text_has_account": "Baduzu konturik?", "link_login_action": "Hasi Saioa", "ph_email_example": "erabiltzailea@adibidea.com",
        "panel_client_title": "Bezeroaren Arloa", "btn_logout": "Saioa Itxi",
        "panel_responses_title": "Taldearen Erantzunak", "panel_no_msg": "Ez duzu erantzun berririk.",
        "table_date": "Data", "table_subject": "Gaia", "table_response": "Erantzuna",
        "dash_title": "Kontrol Panela", "dash_msgs_title": "Jasotako Mezuak", "dash_no_msg": "Ez dago mezu berririk sisteman.",
        "table_user": "Erabiltzailea", "table_msg": "Mezua",
        "welcome_user": "Ongi etorri,", "hello_user": "Kaixo,",
        "text_new_lab": "Berria laborategian?", "btn_create_account": "Sortu Kontua",
        "footer_text": "© 2026 SecurityShield - PIM Proiektua - Web Zerbitzariaren Defentsa",
        "footer_source": "Iturburu Kodea",
        "title_login": "Sarbidea - SecurityShield",
        "title_register": "Erregistroa - SecurityShield",
        "title_dashboard": "Aginte-panela - SecurityShield",
        "title_client": "Bezeroaren Arloa - SecurityShield",
        "welcome_page_title": "SecurityShield - Cyber Defense",
        "welcome_line1": "Sistemen bastionatzea eta Linux hardening aurreratua",
        "welcome_line2": "Defentsa sakona AppArmor profil eta Blue Team bidez",
        "welcome_line3": "Segurtasun auditoretza ofentsiboa azpiegiturak blindatzeko",
        "welcome_btn": "Hasi"
    }
};

document.addEventListener('DOMContentLoaded', () => {
    let currentLang = 'es';
    try {
        if (localStorage.getItem('selectedLang')) {
            currentLang = localStorage.getItem('selectedLang');
        }
    } catch (e) { }

    const selector = document.getElementById('language-selector');
    if (selector) {
        selector.value = currentLang;
        selector.addEventListener('change', (e) => {
            const lang = e.target.value;
            try {
                localStorage.setItem('selectedLang', lang);
            } catch (e) { }
            updateLanguage(lang);
        });
    }

    updateLanguage(currentLang);

    function updateLanguage(lang) {
        const elements = document.querySelectorAll('[data-i18n]');

        elements.forEach(element => {
            const key = element.getAttribute('data-i18n');
            if (translations[lang] && translations[lang][key]) {
                if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                    element.placeholder = translations[lang][key];
                } else {
                    element.textContent = translations[lang][key];
                }
            }
        });

        if (translations[lang]) {
            const pageTitleKey = document.querySelector('title')?.getAttribute('data-i18n');
            if (pageTitleKey && translations[lang][pageTitleKey]) {
                document.title = translations[lang][pageTitleKey];
            }
        }
    }
});